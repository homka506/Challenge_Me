<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ChallengeMe</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <main>

        <div class="chm-blog">
            <div class="chm-blog__body">
                <div class="chm-blog__title">
        <h1>Как удалить большой файл из истории коммитов?</h1>
    </div>
            <p>
                Иногда, в процессе работы в коммит может ошибочно попасть большой файл. Это значительно увеличивает вес коммита и сказывается на производительности системы. Для решения подобных проблем была создана команда filter-branch - она позволяет редактировать большое количество коммитов одной командой, например: удалять  ненужные файлы из истории. 

                Для удаления файла  из истории  (всех коммитов от первого и до крайнего) необходимо выполнить команду:
            </p>        
                <div  class="chm-blog__code">
                    
    <pre>
    <code>
git filter-branch --tree-filter 'rm -f file-name' HEAD
</code>
</pre>
                </div>
<p>
    Опция <i>--tree-filter</i> запускает указанную команду (<i>rm -f file-name</i>) для каждого коммита в истории, после чего сохраняет результат выполнения. В этом случае команда <i>filter-branch</i> отредактирует каждый коммит, в котором "засветился" искомый файл (от коммита в котором был создан и до крайнего, на который указывает <i>.HEAD</i>).
    Если вы знаете коммит, в котором был создан не желаемый файл, вы можете ускорить процесс, указав <i>.Git</i> промежуток истории нуждающийся в редактировании. Для этого необходимо заменить опцию <i>HEAD</i> на <i>35dsa2..HEAD</i>, где <i>35dsa2</i> - коммит предшествующий тому, в котором был создан файл.   
    </p>
    <div  class="chm-blog__code">
       
<pre>
    <code>
git filter-branch --tree-filter 'rm -f file-name' 35dsa2..HEAD
</code>
</pre>
    </div>
<p>
    Однако, при использовании команды нужно помнить, что эти действия переписывают историю изменений. Каждый коммит, где был найден файл, будет переписан, поэтому необходимо сообщить всем, кто принимал участие в работе над проектом о необходимости перемещения их правок на новые коммиты.
</p>

</div>
         <div class="chm-blog__row">
                <div class="chm-blog__articles">
                  
                    <ul>
                        <li>
                        <a href="https://git-scm.com/book/ru/v2/Git-%D0%B8%D0%B7%D0%BD%D1%83%D1%82%D1%80%D0%B8-%D0%A3%D1%85%D0%BE%D0%B4-%D0%B7%D0%B0-%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B5%D0%BC-%D0%B8-%D0%B2%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">Как можно откатить изменения к последнему коммиту (вернуть репозиторий Git к предыдущему коммиту)
                        </a>
                        </li>
                        <li>
                        <a href="https://git-scm.com/book/ru/v2/Git-%D0%B8%D0%B7%D0%BD%D1%83%D1%82%D1%80%D0%B8-%D0%A3%D1%85%D0%BE%D0%B4-%D0%B7%D0%B0-%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B5%D0%BC-%D0%B8-%D0%B2%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">Как заставить Git «забыть» о файле, который отслеживался, теперь находится в .gitignore,  но продолжает появляться в  git status?
                        </a>
                    </li>
                    </ul>
                </div>
                <div class="chm-blog__test">
                    <div class="chm-blog__test__picture">
                        <img src="/test/test.png" alt="test icon">
                </div>
                    <div class="chm-blog__test__text" >
                        <a href="http://chm.org.ua/">Проверь себя. Бесплатные тесты по HTML, CSS, JS и GIT
                        </a>

                        
                    </div>
            </div>
        </div>
        </div>
    </main>
</body>
</html>